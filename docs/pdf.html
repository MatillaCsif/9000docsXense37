<!doctype html>
<html lang="es">
<meta charset="utf-8">
<title>Visor PDF</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>body,html{margin:0;height:100%} .bar{padding:8px;background:#f7f7f7;border-bottom:1px solid #ddd;font-family:system-ui} .frame{height:calc(100% - 42px);}</style>
<div class="bar">
  <a id="open" target="_blank">Abrir PDF original</a>
</div>
<div class="frame">
  <embed id="pdf" type="application/pdf" width="100%" height="100%">
</div>
<script>
const params = new URLSearchParams(location.search);
const url = params.get('u') || '';
document.getElementById('open').href = url;
document.getElementById('open').textContent = 'Abrir PDF original';
document.getElementById('pdf').src = url;
// Si el servidor bloquea <embed>, muestra un aviso
setTimeout(()=>{
  const ok = document.getElementById('pdf').getAttribute('src');
  if(!ok){ document.body.insertAdjacentHTML('beforeend','<p style="padding:12px">No se pudo incrustar el PDF. Usa el enlace superior.</p>'); }
}, 500);
</script>
</html>
